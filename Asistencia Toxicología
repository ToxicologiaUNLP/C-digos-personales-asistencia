<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Generador QR para asistencia</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/qrious/4.0.2/qrious.min.js"></script>
<style>
  body { font-family: Arial, sans-serif; max-width: 400px; margin: 30px auto; }
  input, button { font-size: 1.1em; padding: 10px; width: 100%; margin-top: 10px; }
  canvas { margin-top: 20px; display: block; }
</style>
</head>
<body>
<h2>Generar c√≥digo QR personal</h2>
<label for="nombre">Nombre:</label>
<input type="text" id="nombre" placeholder="Ej: Gonzalo" />
<label for="apellido">Apellido:</label>
<input type="text" id="apellido" placeholder="Ej: Branca" />
<label for="legajo">Legajo:</label>
<input type="text" id="legajo" placeholder="Ej: 12345" />
<button id="generar">Generar QR</button>
<canvas id="qr"></canvas>
<a id="descargar" style="display:none; margin-top:10px;" download="qr_asistencia.png">Descargar QR</a>

<script>
  const qr = new QRious({
    element: document.getElementById('qr'),
    size: 250,
    value: ''
  });

  document.getElementById('generar').addEventListener('click', () => {
    const nombre = document.getElementById('nombre').value.trim();
    const apellido = document.getElementById('apellido').value.trim();
    const legajo = document.getElementById('legajo').value.trim();

    if (!nombre || !apellido || !legajo) {
      alert('Por favor complete todos los campos.');
      return;
    }

    // Generar texto para QR, por ejemplo separado por comas
    const textoQR = `Nombre: ${nombre}, Apellido: ${apellido}, Legajo: ${legajo}`;
    qr.value = textoQR;

    document.getElementById('descargar').style.display = 'inline-block';
    document.getElementById('descargar').href = qr.element.toDataURL('image/png');
  });
</script>
</body>
</html>
